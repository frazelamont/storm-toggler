!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.StormToggler=e()}(this,function(){"use strict";function t(t,e){var i,n=this;this.settings=a.merge({},s,e),this.btn=t,this.targetId=(t.getAttribute("href")||t.getAttribute("data-target")).substr(1),this.targetElement=document.getElementById(this.targetId),this.classTarget=this.settings.targetLocal?this.targetElement.parentNode:document.documentElement,this.settings.targetLocal?(this.statusClass="active",this.animatingClass="animating"):(this.statusClass=["on--",this.targetId].join(""),this.animatingClass=["animating--",this.targetId].join("")),i=this.targetId,a.attributelist.add(this.btn,{role:"button","aria-controls":i,"aria-expanded":"false"}),a.attributelist.add(this.targetElement,{"aria-hidden":!0}),this.btn.addEventListener("click",function(t){n.toggle.call(n,t)},!1)}function e(e,s){if(0===e.length||!("querySelectorAll"in document))throw new Error("Toggler cannot be initialised, unsupported browser or no toggleable elements");var a=[];return[].slice.call(e).forEach(function(e){a.push(new t(e,s))}),a}var s={delay:200,targetLocal:!1},a=require("storm-utils");return t.prototype.toggle=function(t){var e=this,s=a.classlist.has(e.classTarget,e.statusClass)?e.settings.delay:0;t.preventDefault(),t.stopPropagation(),a.classlist.add(e.classTarget,this.animatingClass),window.setTimeout(function(){a.classlist.remove(e.classTarget,e.animatingClass).toggle(e.classTarget,e.statusClass),a.attributelist.toggle(e.btn,"aria-expanded"),a.attributelist.toggle(e.targetElement,"aria-hidden")},s)},{init:e}});